---
title: Integrando com o front-end
---

# Back-end conversando com nossa UI

Agora que temos nosso back-end vamos voltar para o front-end e vamos chamar nossas funções do back-end.

Primeiro de tudo vamos importar o next-auth para checar se o usuario está logado, caso não esteja vamos redirecionar ele para a tela de login.

```js
import { signIn, signOut, useSession } from "next-auth/react";
```

Não precisamos fazer nada por enquanto com o `useSession` mas vamos usar ele mais pra frente.

Precisamos importar agora nossa API TRPC para poder chamar nossas funções do back-end.

```js
import { api } from "~/utils/api";
```

Para chamar uma função do back-end é bem simples, basta usar o `useMutation` ou `useQuery` e passar o nome da função que queremos chamar.

```js
api.character.getChars.useQuery();
```

## Checando usuario logado

Agora vamos usar o `useSession` para checar se tem alguma sessão ativa. Vamos adicionar essa linha logo depois da declaração do componente.

```js
export default function Home() {
  const { data: sessionData } = useSession();
  ...
}
```